{"ast":null,"code":"import _classCallCheck from \"/Users/ibandasca/Documents/Ironhack/DEV/Mod03/Mod03-Final-Project/frontend/epi-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ibandasca/Documents/Ironhack/DEV/Mod03/Mod03-Final-Project/frontend/epi-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ibandasca/Documents/Ironhack/DEV/Mod03/Mod03-Final-Project/frontend/epi-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ibandasca/Documents/Ironhack/DEV/Mod03/Mod03-Final-Project/frontend/epi-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ibandasca/Documents/Ironhack/DEV/Mod03/Mod03-Final-Project/frontend/epi-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ibandasca/Documents/Ironhack/DEV/Mod03/Mod03-Final-Project/frontend/epi-frontend/src/pages/search/Search.js\";\nimport React, { Component } from 'react';\nimport { withAuth } from '../../lib/authContext';\nimport ResultUser from './ResultUser';\nimport ResultPost from './ResultPost';\nimport search from '../../lib/search-service';\nimport '../../stylesheets/search.css';\n\nvar SearchPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchPage, _Component);\n\n  function SearchPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SearchPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SearchPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      searchValue: '',\n      selectedOption: 'user',\n      searchResult: [] // Selecciona qué tipo con los radio button y lo guarda en el estado\n\n    };\n\n    _this.handleOptionChange = function (e) {\n      var selectedOption = e.target.value;\n\n      _this.setState({\n        selectedOption: selectedOption,\n        searchResult: []\n      });\n    };\n\n    _this.handleInput = function (e) {\n      var searchValue = e.target.value;\n\n      _this.setState({\n        searchValue: searchValue\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          searchValue = _this$state.searchValue,\n          selectedOption = _this$state.selectedOption;\n      search.searchUser(selectedOption, searchValue).then(function (searchResult) {\n        _this.setState({\n          searchResult: searchResult\n        });\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    };\n\n    _this.setType = function () {\n      var _this$state2 = _this.state,\n          searchResult = _this$state2.searchResult,\n          selectedOption = _this$state2.selectedOption;\n\n      if (selectedOption === 'user') {\n        return React.createElement(ResultUser, {\n          data: searchResult,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        });\n      } else if (selectedOption === 'title' || selectedOption === 'text') {\n        return React.createElement(ResultPost, {\n          data: searchResult,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(SearchPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state3 = this.state,\n          searchValue = _this$state3.searchValue,\n          selectedOption = _this$state3.selectedOption;\n      return React.createElement(\"div\", {\n        className: \"search-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Searching for \", searchValue), React.createElement(\"div\", {\n        className: \"search-option-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"search-radio-buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        value: \"user\",\n        checked: selectedOption === 'user',\n        onChange: this.handleOptionChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), \"Users\"), React.createElement(\"label\", {\n        className: \"search-radio-buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        value: \"title\",\n        checked: selectedOption === 'title',\n        onChange: this.handleOptionChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), \"Posts title\"), React.createElement(\"label\", {\n        className: \"search-radio-buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        value: \"text\",\n        checked: selectedOption === 'text',\n        onChange: this.handleOptionChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), \"Post content\")), React.createElement(\"input\", {\n        type: \"text\",\n        onChange: this.handleInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })), this.setType());\n    }\n  }]);\n\n  return SearchPage;\n}(Component);\n\nexport default withAuth(SearchPage);","map":{"version":3,"sources":["/Users/ibandasca/Documents/Ironhack/DEV/Mod03/Mod03-Final-Project/frontend/epi-frontend/src/pages/search/Search.js"],"names":["React","Component","withAuth","ResultUser","ResultPost","search","SearchPage","state","searchValue","selectedOption","searchResult","handleOptionChange","e","target","value","setState","handleInput","handleSubmit","preventDefault","searchUser","then","catch","error","console","log","setType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withAuth } from '../../lib/authContext'\nimport ResultUser from './ResultUser'\nimport ResultPost from './ResultPost'\nimport search from '../../lib/search-service'\nimport '../../stylesheets/search.css'\n\nclass SearchPage extends Component {\n  \n  state = {\n    searchValue: '',\n    selectedOption: 'user',\n    searchResult: [],\n  }\n\n  // Selecciona qué tipo con los radio button y lo guarda en el estado\n  handleOptionChange = (e) => {\n    const selectedOption = e.target.value\n    this.setState({\n      selectedOption,\n      searchResult: []\n    });\n  }\n\n  // Toma el texto de la búsqueda y lo guarda en el estado\n  handleInput = (e) => {\n    const searchValue = e.target.value\n    this.setState({\n      searchValue,\n    })\n  }\n\n  // Coge el tipo de los radios y la búsqueda y hace una llamada axios\n  handleSubmit = (e) => {\n    e.preventDefault()\n\n    const { searchValue, selectedOption } = this.state\n      search.searchUser(selectedOption, searchValue)\n      .then(searchResult => {\n        this.setState({\n          searchResult,\n        })\n      })\n      .catch(error => console.log(error))\n  }\n\n  // Muestra un componente u otro según el tipo marcado en los radios\n  setType = () => {\n    const {searchResult, selectedOption} = this.state\n    if(selectedOption === 'user'){\n      return <ResultUser \n      data={searchResult}\n    />\n    }else if (selectedOption === 'title' || selectedOption === 'text'){\n      return <ResultPost \n      data={searchResult}\n    />\n    }else{\n      return <div></div>\n    }\n  }\n\n  render() {\n    const { searchValue, selectedOption } = this.state\n    return ( \n      <div className='search-page'>\n        <form onSubmit={this.handleSubmit}>\n          <label>Searching for {searchValue}</label>\n          <div className='search-option-container'>\n            <label className='search-radio-buttons'>\n              <input type=\"radio\" value=\"user\" checked={selectedOption === 'user'} onChange={this.handleOptionChange} />\n              Users\n            </label>\n            <label className='search-radio-buttons'>\n              <input type=\"radio\" value=\"title\" checked={selectedOption === 'title'} onChange={this.handleOptionChange} />\n              Posts title\n            </label>\n            <label className='search-radio-buttons'>\n              <input type=\"radio\" value=\"text\" checked={selectedOption === 'text'} onChange={this.handleOptionChange} />\n              Post content\n            </label>\n          </div>\n          <input type=\"text\" onChange={this.handleInput} />\n          <input type=\"submit\" value=\"search\" />\n        </form>\n        {this.setType()}\n      </div>\n    )\n  }\n}\n\nexport default withAuth(SearchPage);"]},"metadata":{},"sourceType":"module"}