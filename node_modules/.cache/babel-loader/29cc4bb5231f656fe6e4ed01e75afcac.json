{"ast":null,"code":"import _classCallCheck from \"/home/oem/ironhack/final-project/epi-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/oem/ironhack/final-project/epi-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/oem/ironhack/final-project/epi-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/oem/ironhack/final-project/epi-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/oem/ironhack/final-project/epi-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/oem/ironhack/final-project/epi-frontend/src/pages/search/Search.js\";\nimport React, { Component } from 'react';\nimport { withAuth } from '../../lib/authContext';\nimport ResultUser from './ResultUser';\nimport search from '../../lib/search-service';\n\nvar SearchPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchPage, _Component);\n\n  function SearchPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SearchPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SearchPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      searchValue: '',\n      data: '',\n      selectedOption: 'user',\n      searchResult: []\n    };\n\n    _this.handleOptionChange = function (e) {\n      var selectedOption = e.target.value;\n\n      _this.setState({\n        selectedOption: selectedOption\n      });\n    };\n\n    _this.handleInput = function (e) {\n      var searchValue = e.target.value;\n\n      _this.setState({\n        searchValue: searchValue\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          searchValue = _this$state.searchValue,\n          selectedOption = _this$state.selectedOption;\n\n      if (selectedOption === 'user') {\n        search.searchUser(selectedOption, searchValue).then(function (searchResult) {\n          _this.setState({\n            searchResult: searchResult\n          });\n        }).catch(function (error) {\n          return console.log(error);\n        });\n      } else if (selectedOption === 'title') {\n        console.log('title');\n      } else if (selectedOption === 'text') {\n        console.log('text');\n      }\n    };\n\n    _this.setType = function () {\n      var searchResult = _this.state.searchResult;\n\n      if (selectedOption === 'user') {\n        return React.createElement(ResultUser, {\n          data: searchResult,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(ResultPost, {\n          data: searchResult,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(SearchPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          data = _this$state2.data,\n          searchResult = _this$state2.searchResult,\n          selectedOption = _this$state2.selectedOption;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Searching for \", data), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        value: \"user\",\n        checked: selectedOption === 'user',\n        onChange: this.handleOptionChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), \"Users\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        value: \"title\",\n        checked: selectedOption === 'title',\n        onChange: this.handleOptionChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), \"Posts title\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        value: \"text\",\n        checked: selectedOption === 'text',\n        onChange: this.handleOptionChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), \"Post content\"), React.createElement(\"input\", {\n        type: \"text\",\n        onChange: this.handleInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      })), this.setType());\n    }\n  }]);\n\n  return SearchPage;\n}(Component);\n\nexport default withAuth(SearchPage);","map":{"version":3,"sources":["/home/oem/ironhack/final-project/epi-frontend/src/pages/search/Search.js"],"names":["React","Component","withAuth","ResultUser","search","SearchPage","state","searchValue","data","selectedOption","searchResult","handleOptionChange","e","target","value","setState","handleInput","handleSubmit","preventDefault","searchUser","then","catch","error","console","log","setType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withAuth } from '../../lib/authContext'\nimport ResultUser from './ResultUser'\nimport search from '../../lib/search-service'\n\nclass SearchPage extends Component {\n  \n  state = {\n    searchValue: '',\n    data: '',\n    selectedOption: 'user',\n    searchResult: [],\n  }\n\n  handleOptionChange = (e) => {\n    const selectedOption = e.target.value\n    this.setState({\n      selectedOption,\n    });\n  }\n\n  handleInput = (e) => {\n    const searchValue = e.target.value\n    this.setState({\n      searchValue,\n    })\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault()\n\n    const { searchValue, selectedOption } = this.state\n\n    if(selectedOption === 'user'){\n      search.searchUser(selectedOption, searchValue)\n      .then(searchResult => {\n        this.setState({\n          searchResult,\n        })\n      })\n      .catch(error => console.log(error))\n    }else if(selectedOption === 'title'){\n      console.log('title')\n    }else if(selectedOption === 'text'){\n      console.log('text')\n    }\n  }\n\n  setType = () => {\n    const {searchResult} = this.state\n    if(selectedOption === 'user'){\n      return <ResultUser \n      data={searchResult}\n    />\n    }else{\n      return <ResultPost \n      data={searchResult}\n    />\n    }\n  }\n\n  render() {\n    const { data, searchResult, selectedOption } = this.state\n    return ( \n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <label>Searching for {data}</label>\n          <label>\n            <input type=\"radio\" value=\"user\" checked={selectedOption === 'user'} onChange={this.handleOptionChange} />\n            Users\n          </label>\n          <label>\n            <input type=\"radio\" value=\"title\" checked={selectedOption === 'title'} onChange={this.handleOptionChange} />\n            Posts title\n          </label>\n          <label>\n            <input type=\"radio\" value=\"text\" checked={selectedOption === 'text'} onChange={this.handleOptionChange} />\n            Post content\n          </label>\n          <input type=\"text\" onChange={this.handleInput} />\n        </form>\n        {this.setType()}\n      </div>\n    )\n  }\n}\n\nexport default withAuth(SearchPage);"]},"metadata":{},"sourceType":"module"}